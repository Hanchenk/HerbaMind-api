<!-- 聊天区域 -->
<div id="chat-area" class="flex-1 flex flex-col">
  <!-- 聊天容器 -->
  <div id="chat-container" class="flex-1 overflow-y-auto p-4 custom-scrollbar desktop-chat-container">
    <!-- 聊天消息将在这里动态添加 -->
    <div class="flex justify-center items-center h-full">
      <div class="text-center text-gray-500 dark:text-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-primary/30 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
        <p class="font-medium">开始新的对话</p>
        <p class="text-sm mt-1">AI助手随时为您解答问题</p>
      </div>
    </div>
  </div>
  
  <!-- 推荐区域 -->
  <div id="recommendations-container" class="hidden px-4 pt-2 pb-3 border-t border-gray-200 dark:border-gray-700">
    <div class="flex items-center mb-2">
      <div class="text-xs font-medium text-gray-500 dark:text-gray-400">个性化推荐</div>
      <button id="close-recommendations" class="ml-auto text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div id="recommendations-list" class="flex gap-2 overflow-x-auto pb-2">
      <!-- 推荐卡片将在这里动态添加 -->
    </div>
  </div>

  <!-- 输入区域 -->
  <div class="p-4 border-t border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur">
    <div class="relative max-w-4xl mx-auto">
      <div id="message-input" contenteditable="true" class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary auto-grow custom-scrollbar" placeholder="输入消息..."></div>
      <div class="absolute right-2 bottom-2 flex items-center">
        <button id="voice-input-button" class="text-primary/70 hover:text-primary cursor-pointer p-1 rounded-full mr-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
          </svg>
        </button>
        <button id="send-button" class="text-primary hover:text-primary/80 cursor-pointer p-1 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
          </svg>
        </button>
      </div>
    </div>
    <div class="flex justify-between items-center mt-2 px-1 text-xs text-gray-500 dark:text-gray-400 max-w-4xl mx-auto">
      <div>支持 Markdown 格式</div>
      <div class="flex items-center">
        <div id="recording-indicator" class="hidden mr-2">
          <span class="inline-block h-2 w-2 bg-red-500 rounded-full animate-pulse mr-1"></span>
          <span>正在录音...</span>
        </div>
        <div id="char-counter">0/2000</div>
      </div>
    </div>
  </div>
  
  <!-- 语音录制模态框 -->
  <div id="voice-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 m-4 max-w-sm w-full">
      <div class="text-center mb-4">
        <div id="voice-animation" class="w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-primary animate-pulse" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
          </svg>
        </div>
        <h3 class="text-lg font-medium">语音输入</h3>
        <p id="voice-status" class="text-sm text-gray-500 dark:text-gray-400 mt-1">点击开始录音</p>
      </div>
      <div class="flex space-x-2">
        <button id="start-recording" class="flex-1 bg-primary text-white py-2 rounded-lg">开始录音</button>
        <button id="stop-recording" class="flex-1 bg-red-500 text-white py-2 rounded-lg hidden">停止录音</button>
        <button id="cancel-voice" class="flex-1 border border-gray-300 dark:border-gray-600 py-2 rounded-lg">取消</button>
      </div>
    </div>
  </div>
  
  <!-- 反馈模态框 -->
  <div id="feedback-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 m-4 max-w-sm w-full">
      <div class="text-center mb-4">
        <h3 class="text-lg font-medium">评价这个回答</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">您的反馈将帮助我们改进服务</p>
      </div>
      <div class="flex justify-center space-x-2 mb-4" id="rating-stars">
        <button class="rating-star text-gray-300 hover:text-yellow-400" data-rating="1">★</button>
        <button class="rating-star text-gray-300 hover:text-yellow-400" data-rating="2">★</button>
        <button class="rating-star text-gray-300 hover:text-yellow-400" data-rating="3">★</button>
        <button class="rating-star text-gray-300 hover:text-yellow-400" data-rating="4">★</button>
        <button class="rating-star text-gray-300 hover:text-yellow-400" data-rating="5">★</button>
      </div>
      <textarea id="feedback-comment" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md mb-4" rows="3" placeholder="请输入您的建议或想法（可选）"></textarea>
      <input type="hidden" id="feedback-message-id">
      <div class="flex space-x-2">
        <button id="submit-feedback" class="flex-1 bg-primary text-white py-2 rounded-lg">提交</button>
        <button id="cancel-feedback" class="flex-1 border border-gray-300 dark:border-gray-600 py-2 rounded-lg">取消</button>
      </div>
    </div>
  </div>
</div> 